(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),i=a.n(l),s=a(2),u=a(3),c=a(5),o=a(4),m=a(6),v=a(9),d=a(1),h=(a(16),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderSquare",value:function(e){var t=this,a="square";return this.props.grid[e.x][e.y]||(a+=" empty"),r.a.createElement("div",{className:a,key:e.x+e.y,onClick:function(a){return t.props.handleCellClick(e)}},this.props.grid[e.x][e.y])}},{key:"render",value:function(){var e,t=this;return e=this.props.grid.map(function(e,a){var n=e.map(function(e,n){return t.renderSquare({x:a,y:n})});return r.a.createElement("div",{className:"board-row",key:a},n)}),r.a.createElement("div",{className:"board"},e)}}]),t}(n.Component)),f=function(e,t){return Object(d.a)(Array(t+1).keys()).slice(e)};function y(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(14,5)}var g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).isAValidGridCell=function(e){return function(t){return t.x>=0&&t.y>=0&&t.x<e.length&&t.y<e.length}},a.resetGame=function(){a.setState(a.getInitialPuzzleState(a.props.size)),clearInterval(a.interval),a.interval=null},a.handleCellClick=function(e){a.interval||(a.interval=setInterval(function(){return a.tick()},1e3));var t,n=a.state.grid,r=a.state.gameWon;r||(t=a.findEmptyCell(a.getNeighbourCells(e,n),n))&&(n=a.slideCell(e,t,n),a.isGridOrdered(n)&&(r=!0,clearInterval(a.interval)),a.setState({grid:n,movesCount:a.state.movesCount+1,gameWon:r},function(e){a.state.gameWon&&a.props.onSolved({duration:a.state.duration,movesCount:a.state.movesCount})}))},a.state=a.getInitialPuzzleState(e.size),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getInitialPuzzleState",value:function(e){return{grid:this.makeShuffledGrid(e),duration:0,movesCount:0,gameWon:!1}}},{key:"makeGrid",value:function(e,t){return Array(e).fill(null).map(function(a,n){var r=n*e,l=r+e;return t.slice(r,l)})}},{key:"makeInitialGrid",value:function(e){return this.makeGrid(e,[].concat(Object(d.a)(f(1,Math.pow(e,2)-1)),[null]))}},{key:"makeShuffledGrid",value:function(e){var t=this.makeGrid(e,[].concat(Object(d.a)(function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Math.floor(Math.random()*t.length);return a.length===t.length?a:(a.includes(t[n])||a.push(t[n]),e(t,a))}(f(1,Math.pow(e,2)-1))),[null]));return this.isGridWinnable(t)?t:this.makeShuffledGrid(e)}},{key:"isGridWinnable",value:function(e){return e.reduce(function(e,t){return[].concat(Object(d.a)(e),Object(d.a)(t))}).filter(function(e){return null!==e}).reduce(function(e,t,a,n){return e+n.slice(a).filter(function(e){return e<t}).length},0)%2===0}},{key:"isGridOrdered",value:function(e){var t=e.length;return function(e){var t=0,a=1,n=!0;do{if(!(n=e[t]<e[a]))return!1;t++,a++}while(a<e.length);return n}(e.reduce(function(e,t){return[].concat(Object(d.a)(e),Object(d.a)(t))}).filter(function(e){return null!==e}))&&null===e[t-1][t-1]}},{key:"getNeighbourCells",value:function(e,t){return e=Object(v.a)({},e),t=Object(d.a)(t),[{x:e.x-1,y:e.y},{x:e.x+1,y:e.y},{x:e.x,y:e.y-1},{x:e.x,y:e.y+1}].filter(this.isAValidGridCell(t))}},{key:"findEmptyCell",value:function(e,t){return e.find(function(e){return null===t[e.x][e.y]})}},{key:"findEmptyCellOnGrid",value:function(e){var t;return t=e.findIndex(function(e){return e.includes(null)}),{x:e[t].findIndex(function(e){return null===e}),y:t}}},{key:"swapCellValues",value:function(e,t,a){var n=(a=Object(d.a)(a))[e.x][e.y];return a[e.x][e.y]=a[t.x][t.y],a[t.x][t.y]=n,a}},{key:"slideCell",value:function(e,t,a){return this.swapCellValues(e,t,a)}},{key:"tick",value:function(){this.setState(function(e){return{duration:e.duration+1}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h,{grid:this.state.grid,handleCellClick:this.handleCellClick}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"stats-board"},r.a.createElement("div",{className:"stat"},r.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M17 16a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4.01V4a1 1 0 0 1 1-1 1 1 0 0 1 1 1v6h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v8h1V1a1 1 0 1 1 2 0v9h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v13h1V9a1 1 0 0 1 1-1h1v8z"})),r.a.createElement("span",{className:"stat-label"},this.state.movesCount)),r.a.createElement("div",{className:"stat"},r.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M16.32 7.1A8 8 0 1 1 9 4.06V2h2v2.06c1.46.18 2.8.76 3.9 1.62l1.46-1.46 1.42 1.42-1.46 1.45zM10 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zM7 0h6v2H7V0zm5.12 8.46l1.42 1.42L10 13.4 8.59 12l3.53-3.54z"})),r.a.createElement("span",{className:"stat-label"},y(this.state.duration)))),this.state.gameWon?r.a.createElement("h4",null,"Game Won"):null,r.a.createElement("br",null),r.a.createElement("button",{className:"btn",onClick:this.resetGame},"New Game"))}}]),t}(n.Component),b=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"get",value:function(e,t){return JSON.parse(localStorage.getItem(e))||t}},{key:"set",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}}]),e}(),p=(a(18),function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).storage=new b;var n=a.getBestGamePlay(a.storage.get("gamePlays",[]));return a.state={bestPlay:n},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleSolved",value:function(e){var t=this.getBestGamePlay(this.saveGamePlay(e));t&&this.setState({bestPlay:t})}},{key:"saveGamePlay",value:function(e){var t=this.storage.get("gamePlays",[]);return t.push(e),this.storage.set("gamePlays",t),t}},{key:"sortGamePLays",value:function(e){return e.slice().sort(function(e,t){return e.duration-t.duration||e.moveCounts-t.moveCounts})}},{key:"getBestGamePlay",value:function(e){return this.sortGamePLays(e)[0]||null}},{key:"render",value:function(){var e=this,t=null;return this.state.bestPlay&&(t=r.a.createElement("div",{className:"best"},r.a.createElement("div",{className:"best-title"},"BEST"),r.a.createElement("div",{className:"flex-content-space-between"},r.a.createElement("div",{className:"flex-align-center"},r.a.createElement("svg",{width:"15",height:"15",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M17 16a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4.01V4a1 1 0 0 1 1-1 1 1 0 0 1 1 1v6h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v8h1V1a1 1 0 1 1 2 0v9h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v13h1V9a1 1 0 0 1 1-1h1v8z"})),r.a.createElement("span",{className:"best-stat-label"},this.state.bestPlay.movesCount)),r.a.createElement("div",{className:"flex-align-center"},r.a.createElement("svg",{width:"15",height:"15",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M16.32 7.1A8 8 0 1 1 9 4.06V2h2v2.06c1.46.18 2.8.76 3.9 1.62l1.46-1.46 1.42 1.42-1.46 1.45zM10 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zM7 0h6v2H7V0zm5.12 8.46l1.42 1.42L10 13.4 8.59 12l3.53-3.54z"})),r.a.createElement("span",{className:"best-stat-label"},y(this.state.bestPlay.duration)))))),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"flex-content-space-between"},r.a.createElement("div",null,r.a.createElement("h2",{className:"heading m-none"},"15 Puzzle")),t),r.a.createElement("br",null),r.a.createElement(g,{size:4,onSolved:function(t){return e.handleSolved(t)}}))}}]),t}(n.Component));i.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.128998d7.chunk.js.map